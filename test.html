<head>
    <title>Test Document</title>
    <script src="web3.js/dist/web3.min.js"></script>
</head>

<body>
    <h1>Balance: -1 wei</h1>
    <script>
        if (typeof web3 !== "undefined") {
            web3 = new Web3(web3.currentProvider)
            console.log("Web 3 found.")
        } else {
            web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545/'))
            //var web3 = new Web3(new Web3.providers.HttpProvider('https://ropsten.infura.io/'));
            //alert("Couldn't find provider")
            console.log("Local")
        }

        //console.log(web3.eth.accounts);

        abi = JSON.parse('[{"constant":true,"inputs":[],"name":"getPotSize","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"owners","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getLastPot","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getLastDuration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAllTimeBets","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getBlocksRemaining","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getDuration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getLastEndBlock","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getLastWinner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"test","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"placeBet","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]');
        DLottoContract = web3.eth.contract(abi);
        contractAddress = '0x03348dd5ef4a94f27b17551c3beebaf9c559dcc6';
        contractInstance = DLottoContract.at(contractAddress);
        console.log(contractInstance);
        //userAddress = web3.eth.accounts[0]; // get account from provider

        console.log(contractInstance.getAllTimeBets.call().toString())
        console.log("PotSize: " + contractInstance.getPotSize.call().toString())
        console.log("Last Duration (Blocks): " + contractInstance.getLastDuration.call().toString())

    </script>
</body>
